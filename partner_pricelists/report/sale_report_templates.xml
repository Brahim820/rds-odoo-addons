<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data>

        <template id="report_saleorder_document" inherit_id="sale.report_saleorder_document">
            <xpath expr="//div[@t-if='doc.client_order_ref']" position="after">
                <div name="payment_term" t-if="doc.partner_pricelist_id.name" class="col-xs-3">
                    <strong>Pricelist Reference:</strong>
                    <p t-field="doc.partner_pricelist_id.name"/>
                </div>        
            </xpath>
            <xpath expr="//t[@t-set='display_discount']" position="after">
                <t t-set="display_our_code" t-value="any([l.product_id.default_code for l in doc.order_line])"/>
                <t t-set="display_your_code" t-value="any([l.product_customer_ref for l in doc.order_line])"/>        
            </xpath>

            <xpath expr="//thead/*[1]/*[1]" position="before">
                <th t-if="display_our_code">Our Code</th>
                <th t-if="display_your_code">Your Code</th>
            </xpath>

            <xpath expr="//span[@t-field='l.name']/.." position="before">
                <td t-if="display_our_code">
                    <span t-if="l.product_id.default_code" t-field="l.product_id.default_code"/>
                </td>
                <td t-if="display_your_code">
                    <span t-if="l.product_customer_ref" t-esc="l.product_customer_ref"/>
                </td>
            </xpath>

            <xpath expr="//p[@t-field='doc.note']" position="replace">
                    <div t-if="doc.note">
                        <p><strong>Notes</strong></p>
                        <p t-field="doc.note" />
                    </div>
                    <br/>
            </xpath>
            <xpath expr="//p[@t-if='doc.payment_term_id.note']" position="replace">
                    <div t-if="doc.payment_term_id.note">
                        <p><strong>Payment Terms</strong></p>
                        <p t-field="doc.payment_term_id.note" />
                        <p>Failure to compy with agreed payment terms will result in the charging of interests as provided by italian Legislative Decree 9/10/2002 n.231 directive 2000/35 CE in addition to any expense.</p>
                    </div>
                    <br/>
                    <!-- Spostare in modulo a Parte
                    <div t-if="doc.incoterm">
                        <strong>Subject to Incoterm  <span t-field="doc.incoterm"/></strong>
                    </div>
                     -->
                    <br/>
            </xpath>
        </template>

    </data>
</odoo>