<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data noupdate="0">

    <template id="home" name="Kontroru">
        <head>
            <title>Kontroru</title>
            <t t-call-assets="web.assets_common" t-js="false"/>
            <t t-call-assets="web.assets_frontend" t-js="false"/>
            <t t-call-assets="web.assets_common" t-css="false"/>
            <t t-call-assets="web.assets_frontend" t-css="false"/>
            <link rel="stylesheet" href="/odoo_mes/static/web/style.css" type="text/css"/>
        </head>
        <body>
            <t t-foreach="workcenters" t-as="wc">
            <div class="container-fluid">
                <div class="row workcenter material-2">
                    <div class="col-sm-10">
                        <div class="time_table">
                            <div class="time_header">
                                <t t-foreach="range(12,24)" t-as="indx">
                                    <div class="hour" t-esc="indx"/>
                                </t>
                                <div class="clearfix"/>
                            </div>
                            <div class="time_data">
                                <t t-set="intervals" t-value="wc._compute_interval_size()"/>
                                <t t-foreach="intervals" t-as="interval">
                                    <div class="interval" t-attf-style="background-color:##{interval.color};width:#{interval.width}%;" />
                                </t>
                                <div class="clearfix"/>
                            </div>
                            <div class="clearfix"/>
                        </div>
                    </div>
                    <div class="col-sm-2 wc_header">
                        <div class="machine_name">[<span t-field="wc.code"/>] - <span t-field="wc.name"/></div>
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" t-attf-style="width: #{wc.oee}%; background-color:#{wc.format_oee()}"
                                t-attf-aria-valuenow="#{wc.oee}" 
                                aria-valuemin="0" 
                                aria-valuemax="100"></div>
                        </div>
                    </div>
                </div>
            </div>
            </t>
        </body>
        
        <script type="text/javascript" src="/odoo_mes/static/web/home.js"/>
    </template>

</data>
</odoo>

